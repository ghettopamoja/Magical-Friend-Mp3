document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".container"),t=(document.querySelector(".content"),document.querySelector(".overlay-album")),n=document.querySelector(".close-album-overlay"),a=document.querySelector(".album-container"),s=document.querySelector(".left-carousel"),o=document.querySelector(".right-carousel"),i=(a.querySelectorAll(".album"),[...document.querySelector(".songs-category").querySelectorAll("li")]),c=document.querySelector(".song-list"),l=[...document.getElementById("songs").querySelectorAll("li")],u=document.querySelector(".dancing-div"),d=document.querySelector("#video-element"),r=document.querySelector(".overlay-message"),m=document.querySelector(".overlay-audio"),p=document.querySelector(".song-title"),y=document.querySelector("#music-image"),g=document.querySelector(".audio-bar-container"),f=[...g.querySelectorAll(".audio-bar")],v=document.querySelector(".song-controls"),h=document.querySelector(".progress-track"),L=document.querySelector(".progress-bar"),b=document.querySelector(".current-time"),E=document.querySelector(".song-duration"),w=[...document.querySelector(".song-buttons").querySelectorAll("button")],M=(document.querySelector(".volume-controls"),document.querySelector("#volume-control"));let S=null,k=null,T=null,q=!1,A=!1,C=!1,x=!1,H=!1;scrollAmount=320;const $=i[0],j=i[1],O=i[2],B=i[3],W=w[0],J=w[1],K=w[2],P=w[3],I=w[5],R=w[4],_=w[6],D=w[7],F={},N=["music1.png","music2.png","music3.png","music4.png","music5.png","music6.png","music7.png","music8.png","music9.png","music10.png","music11.png","music12.png","music13.png","music14.png","music15.png","music16.png","music17.png","music18.png","music19.png","music20.png","music21.png","music22.png","music23.png","music24.png","music25.png","music26.png","music27.png"],V=[{name:"Bahati",photo:"bahati.jpeg"},{name:"Airwave Music",photo:"Airwave.png"},{name:"Jay Melody",photo:"jay melody.jpeg"},{name:"Otile Brown",photo:"otile brown.jpeg"},{name:"Rayvanny",photo:"rayvanny.jpeg"},{name:"Others",photo:"music14.png"},{name:"Enya",photo:"enya.png"},{name:"Jaysoul",photo:"jay soul.jpeg"},{name:"night nurses",photo:"night nurses.jpg"},{name:"Willy Paul",photo:"paul.jpeg"},{name:"Bollywood",photo:"bollywood.jpeg"}],Y=[{name:"Bahati",url:"https://www.youtube.com/@bahatikenya"},{name:"Airwave Music",url:"https://www.youtube.com/@AirwaveMusicTV"},{name:"Jay Melody",url:"https://www.youtube.com/@JayMelody"},{name:"Otile Brown",url:"https://www.youtube.com/@otilebrownofficial"},{name:"Rayvanny",url:"https://www.youtube.com/@Rayvannychui"},{name:"Others",url:"https://vladimirgagarin.github.io/Magical-Friend-Facebook"},{name:"Enya",url:"https://www.youtube.com/channel/UCNIlkuT0DYEc8aFbv3YcvdQ"},{name:"Jaysoul",url:"https://www.youtube.com/@jaysoul_highpitch"},{name:"night nurses",url:"https://www.youtube.com/@pagees_jb_official"},{name:"Willy Paul",url:"https://www.youtube.com/@WillyPaulMsafi"},{name:"Bollywood",url:"https://www.youtube.com/@tseries"}];function Q(e){e.classList.add("active")}function U(e){e.classList.remove("active")}function X(e){e.classList.add("active"),e.classList.remove("pause")}function z(e){e.classList.remove("active")}function G(e){e.classList.add("pause"),e.classList.remove("active")}function Z(e){e.classList.remove("pause")}function ee(){v.style.display="none"}function te(e){e?(m.style.display="flex",g.style.display="flex",D.innerHTML='[ <i class="fas fa-video"></i> ]',H=!0):(m.style.display="none",g.style.display="none",D.innerHTML='[ <i class="fas fa-music"></i> ]',H=!1),D.classList.toggle("playing",e)}function ne(e){e?(r.style.display="flex",te(!0),D.disabled=!0):(r.style.display="none",D.disabled=!1),r.classList.toggle("exit",!e)}function ae(e,t){if(F[e])return void ne(!1);const n=document.createElement("div");n.classList.add("overlay-event");const a=document.createElement("div");a.classList.add("event-mentions"),n.appendChild(a);const s=document.createElement("div");s.classList.add("event-image"),s.innerHTML=`<img src='${t}' alt='${e}'>`,a.appendChild(s);const o=document.createElement("div");o.classList.add("event-title"),o.textContent=e,a.appendChild(o);const i=document.createElement("div");i.classList.add("event-buttons"),n.appendChild(i);const c=document.createElement("button");c.textContent="Subscribe",i.appendChild(c),c.addEventListener("click",(()=>{!function(e){const t=Y.find((t=>t.name===e));if(t){!function(e){window.open(e,"_blank","width=400,height=300,scrollbars=yes")}(t.url)}else console.log("Album not found!")}(e),ne(!1),F[e]=!0}));const l=document.querySelector(".overlay-message");l.innerHTML="",l.appendChild(n),ne(!0)}function se(){if(T){const e=function(e){return V.find((t=>t.name===e))||{photo:"music4.png",name:"This Song"}}(T.dataset.album);ae(e.name,e.photo)}}function oe(){S&&k&&!S.paused&&!k.paused&&(S.pause(),k.pause()),x&&(re(),x=!0),t.style.display="flex",i.forEach((e=>{U(e)})),function(){const e=function(){const e=l.reduce(((e,t)=>{const n=t.getAttribute("data-album");return e[n]||(e[n]=[]),e[n].push(t),e}),{});return e}();for(const[t,n]of Object.entries(e)){ve(V.find((e=>e.name===t))?.photo||"default.jpg",t)}}(),Q($),ee(),z(T),pe(),T=null,S=null,k=null}function ie(){t.style.display="none"}function ce(e){e?(W.innerHTML='[ <i class="fas fa-pause active"></i> ]',W.classList.add("playing")):(W.innerHTML='[ <i class="fas fa-play"></i> ]',W.classList.remove("playing"))}function le(e){e?(I.innerHTML='[ <i class="fas fa-volume-mute active"></i> ]',I.classList.add("playing")):(I.innerHTML='[ <i class="fas fa-volume-up"></i> ]',I.classList.remove("playing"))}function ue(e){const t=a.scrollLeft,n=a.scrollWidth-a.clientWidth;"left"===e?a.scrollTo({left:Math.max(0,t-scrollAmount),behavior:"smooth"}):"right"===e&&a.scrollTo({left:Math.min(n,t+scrollAmount),behavior:"smooth"})}function de(){x=!x,c.style.display=x?"none":"flex",u.style.display=x?"flex":"none",B.classList.toggle("active",x),$.classList.toggle("active",!x),u.classList.toggle("exit",x),B.innerHTML=x?'<i class="fas fa-angle-down"></i>':'<i class="fas fa-angle-up"></i>'}function re(){u.style.display=x?"none":"flex",c.style.display=x?"flex":"none",B.classList.toggle("active",!x),$.classList.toggle("active",x),u.classList.toggle("exit",!x),B.innerHTML=x?'<i class="fas fa-angle-up"></i>':'<i class="fas fa-angle-down"></i>',x=!x}function me(e){document.querySelector("#message").textContent=`${e}`}function pe(){const t=Math.floor(Math.random()*N.length),n=N[t];y.src=n,e.style.backgroundImage=`url(${n||N[13]+1})`,document.querySelector(".song-image").classList.add("intro")}function ye(e,t){const n=`#${Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}`;t&&(t.style.color=n),e.style.backgroundColor=n}function ge(e){b.innerHTML=`<span>${fe(e.currentTime)}</span>`,E.innerHTML=`<span> ${fe(e.duration)}</span>`;const t=e.currentTime/e.duration*100;L.style.width=`${t}%`}function fe(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t<10?`0${t}`:t} : ${n<10?`0${n}`:n}`}function ve(e,t){const n=document.createElement("div");n.classList.add("album");const s=document.createElement("div");s.classList.add("image-album"),s.innerHTML=`<img src="${e}" alt="album-image">`,n.appendChild(s);const o=document.createElement("div");o.classList.add("name-album"),o.innerHTML=`<h2>${t}</h2>`,n.appendChild(o);const i=document.createElement("div");return i.classList.add("buttons-album"),i.innerHTML='<h2><i class="fas fa-play"></i> Play</h2>',n.appendChild(i),i.onclick=()=>{ie(),function(e){l.forEach((t=>{t.getAttribute("data-album")===e?t.style.display="":t.style.display="none"}))}(t),function(e){const t=V.find((t=>t.name===e))?.photo||"default.jpg";document.querySelector("#album-logo").src=t}(t)},a.appendChild(n),n}function he(e,t,n){k&&k!==t&&k.pause(),S&&S!==e&&S.pause(),S&&!S.paused&&k&&!k.paused?(S.pause(),k.pause(),ce(!1),re(),me(`[ ${n.textContent} ]... paused`),G(n)):(S=e,k=t,k.currentTime=S.currentTime,S.play(),k.play(),ce(!0),T=n,X(n)),function(e,t){e.addEventListener("timeupdate",(()=>{const n=fe(e.currentTime),a=fe(e.duration),s=Le();me(`Playing 9${t.textContent} ] ${n} / ${a} on ${s}`)}))}(t,n),ge(e),C=!1,le(!1),S.addEventListener("ended",(()=>{l.forEach((e=>{z(e),Z(e)})),G(n),ce(!1)})),S.addEventListener("timeupdate",(()=>{ge(e)})),se()}function Le(){const e=navigator.userAgent;return/windows/i.test(e)?"Windows":/android|iphone|ipad|ipod|blackberry|windows phone|webos/i.test(e)?"Mobile":"Other"}setTimeout((()=>{oe()}),2e3),Q($),i.forEach((e=>{e.addEventListener("click",(()=>{i.forEach((e=>{U(e)})),Q(e)}))})),B.addEventListener("click",(()=>{de()})),$.addEventListener("click",(()=>{re()})),j.addEventListener("click",(()=>{oe()})),O.addEventListener("click",(()=>{l.forEach((e=>{e.style.display="block"})),i.forEach((e=>{U(e)})),Q($),de()})),s.addEventListener("click",(()=>ue("left"))),o.addEventListener("click",(()=>ue("right"))),l.forEach((e=>{const t=e.getAttribute("data-song"),n=new Audio(t),a=e.getAttribute("data-video");e.addEventListener("click",(()=>{l.forEach((e=>{z(e),Z(e)})),X(e),T=e,a?(d.src=a,d.muted=!0,d.controls=!1,d.style.display="block"):(d.style.display="none",u.style.display="none",x=!0),he(n,d,e),de(),pe(),d.addEventListener("error",(()=>{re(),me("No Audio Available"),ee()})),n.addEventListener("stalled",(()=>{me("Check your connection and reload the page"),p.innerHTML="<h2>Connection is lost</h2>"})),d.addEventListener("stalled",(()=>{me("Check your connection and reload the page"),p.innerHTML="<h2>Connection is lost</h2>"})),d.addEventListener("playing",(()=>{v.style.display="flex",f.forEach((e=>{ye(e,null)}))})),n.addEventListener("timeupdate",(()=>{d&&!d.paused&&(d.currentTime=n.currentTime),ge(n)})),n.addEventListener("ended",(()=>{re(),d.pause()})),d.addEventListener("contextmenu",(e=>{e.preventDefault()})),d.addEventListener("loadedmetadata",(()=>{p.innerHTML=`<h2>${T.textContent}</h2>`}))}))})),document.addEventListener("keydown",(e=>{"KeyK"===e.code&&ye(L,null)})),document.addEventListener("keydown",(e=>{"KeyL"===e.code&&ye(null,b)})),document.addEventListener("keydown",(e=>{"KeyV"===e.code&&ye(M,null)})),document.addEventListener("keydown",(e=>{"KeyR"===e.code&&ye(null,E)})),document.addEventListener("keydown",(e=>{"Space"===e.code&&(S&&!S.paused&&k&&!k.paused?(S.pause(),k.pause(),ce(!1)):(S&&S.paused&&S.play(),k&&k.paused&&k.play(),ce(!0)))})),h.addEventListener("click",(e=>{const t=h.clientWidth,n=e.offsetX,a=S.duration;S.currentTime=n/t*a})),W.addEventListener("click",(()=>{he(S,k),q=!q,W.innerHTML=q?'[ <i class="fas fa-play"></i> ]':'[ <i class="fas fa-pause"></i> ]'})),I.addEventListener("click",(()=>{C=!C,S&&(S.muted=C,le(C))})),R.addEventListener("click",(()=>{A=!A,S&&k&&(S.loop=A,k.loop=A,A?(R.innerHTML='[ <i class="fas fa-sync-alt active"></i> ]',R.classList.add("playing")):(R.innerHTML='[ <i class="fas fa-sync-alt"></i> ]',R.classList.remove("playing")))})),J.addEventListener("click",(()=>{!function(){const e=l.filter((e=>"none"!==e.style.display)),t=e.indexOf(T)-1;if(e.forEach((e=>{e.classList.remove("active")})),t<0)J.disabled=!0;else if(J.disabled=!1,t>=0){const n=e[t],a=n.getAttribute("data-song"),s=n.getAttribute("data-video");S&&S.pause(),k&&k.pause();const o=S||new Audio(a),i=k||document.createElement("video");i.src=s,o.src=a,S=o,k=i,he(o,i,n),T=n,ge(o),pe()}}(),pe()})),K.addEventListener("click",(()=>{!function(){const e=l.filter((e=>"none"!==e.style.display)),t=e.indexOf(T)+1;if(t<e.length){const n=e[t],a=n.getAttribute("data-song"),s=n.getAttribute("data-video");S&&S.pause(),k&&k.pause(),e.forEach((e=>e.classList.remove("active")));const o=S||new Audio(a),i=k||document.createElement("video");i.src=s,o.src=a,S=o,k=i,he(o,i,n),T=n,ge(o),pe()}}(),pe()})),P.addEventListener("click",(()=>{!function(){const e=l.filter((e=>"none"!==e.style.display)),t=e[Math.floor(Math.random()*e.length)];l.forEach((e=>{z(e)}));const n=t.getAttribute("data-song"),a=t.getAttribute("data-video");S&&S.pause(),k&&k.pause();const s=new Audio(n);d.src=a,S=s,k=d,he(s,d,t),ge(s),pe()}()})),_.addEventListener("click",(()=>{pe()})),n.addEventListener("click",(()=>{ie()})),D.addEventListener("click",(()=>{H=!H,te(H),D.innerHTML=H?'[ <i class="fas fa-video"></i> ]':'[ <i class="fas fa-music"></i> ]',D.classList.toggle("playing",H)})),M.addEventListener("input",(()=>{const e=M.value/100;S.volume=e,C=0===e,le(C)}));const be=Le(),Ee=document.getElementById("theme-stylesheet");"Mobile"===be&&(Ee.href="mobile.css")}));
